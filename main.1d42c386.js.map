{"version":3,"sources":["js/components/ui-todos.js","js/main.js"],"names":["tagName","template","document","createElement","innerHTML","UiTodos","HTMLElement","attachShadow","mode","shadowRoot","appendChild","content","cloneNode","list","querySelector","addBtn","hideBtn","search","todos","_get","filters","searchText","hideCompleted","_render","addEventListener","_create","bind","e","target","checked","value","todosJSON","localStorage","getItem","JSON","parse","setItem","stringify","preventDefault","push","id","uuidv4","text","elements","completed","_set","index","findIndex","todo","splice","find","undefined","length","style","display","_dump","forEach","filter","searchTextMatch","toLowerCase","includes","hideCompletedMatch","_createItem","div","classList","add","checkbox","setAttribute","_toggle","removeButton","_remove","span","textContent","append","querySelectorAll","element","remove","customElements","define","btn","showButton","window","scrollY","opacity","scrollTo","top","behavior"],"mappings":"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","file":"main.1d42c386.js","sourceRoot":"..","sourcesContent":["const tagName = 'ui-todos'\nconst template = document.createElement('template')\ntemplate.innerHTML = `\n<style>\n  div {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    padding: 2rem 0;\n    width: 100%;\n  }\n  h2 {\n    animation: pop 1s ease-in-out;\n    opacity: 0.5;\n  }\n  span {\n    display: block;\n    line-break: anywhere;\n  }\n  button {\n    color: #fff;\n    background-color: #007bff;\n    border: none;\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    padding: .375rem .75rem;\n    font-size: 1rem;\n    line-height: 1.5;\n    border-radius: .25rem;\n    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n  }\n  button:hover {\n    background-color: #0062cc;\n  }\n  input {\n    margin-right: 1rem;\n  }\n  input:checked ~ span {\n    text-decoration: line-through !important;\n  }\n  .remove-btn {\n    align-items: center;\n    background-color: transparent !important;\n    display: flex;\n    padding: 0 0.5rem;\n    position: absolute;\n    top: 8px;\n    right: 0;\n  }\n  .remove-btn:hover svg {\n    fill: red;\n  }\n  .todo-item {\n    background-color: whitesmoke;\n    border-radius: 4px;\n    flex-direction: row;\n    margin: 0.2rem 0;\n    padding: 0.5rem;\n    position: relative;\n    text-align: left;\n  }\n  .todo-item:nth-child(odd) {\n    background-color: #e9ecef;\n  }\n  @keyframes pop {\n    from { transform: scale(1); }\n    50% { transform: scale(1.1); }\n    to { transform: scale(1); }\n  }\n</style>\n<div class=\"ui-todos\">\n  <h2>+ to create a new To-do</h2>\n</div>\n`\n\nclass UiTodos extends HTMLElement {\n  constructor () {\n    super()\n    this.attachShadow({ mode: 'open' })\n    this.shadowRoot.appendChild(template.content.cloneNode(true))\n\n    this.list = this.shadowRoot.querySelector('div')\n    this.addBtn = document.querySelector('.add-todo')\n    this.hideBtn = document.querySelector('.hide-completed')\n    this.search = document.querySelector('.search-text')\n\n\n    this.todos = this._get()\n    this.filters = {\n      searchText: '',\n      hideCompleted: false\n    }\n  }\n\n  connectedCallback () {\n    this._render()\n    this.addBtn.addEventListener('submit', this._create.bind(this))\n    this.hideBtn.addEventListener('change', (e) => {\n      this.filters.hideCompleted = e.target.checked\n      this._render()\n    })\n    this.search.addEventListener('keyup', (e) => {\n      this.filters.searchText = e.target.value\n      this._render()\n    })\n  }\n\n  _get () {\n    const todosJSON = localStorage.getItem('todos')\n    if (todosJSON !== null) {\n      return JSON.parse(todosJSON)\n    } else {\n      return []\n    }\n  }\n\n  _set () {\n    localStorage.setItem('todos', JSON.stringify(this.todos))\n  }\n\n  _create (e) {\n    e.preventDefault()\n    this.todos.push({\n      id: uuidv4(),\n      text: e.target.elements.text.value,\n      completed: false\n    })\n    this._set(this.todos)\n    this._render(this.todos)\n    e.target.elements.text.value = ''\n  }\n\n  _remove (id) {\n    const index = this.todos.findIndex((todo) => {\n      return todo.id === id\n    })\n\n    if (index > -1) {\n      this.todos.splice(index, 1)\n    }\n  }\n\n  _toggle (id) {\n    const todo = this.todos.find(function (todo) {\n      return todo.id === id\n    })\n\n    if (todo !== undefined) {\n      todo.completed = !todo.completed\n    }\n  }\n\n  _render () {\n    this.todos.length !== 0 ? this.list.querySelector('h2').style.display = 'none'\n      : this.list.querySelector('h2').style.display = 'block'\n\n    this._dump()\n\n    this.todos.forEach(todo => {\n      if (this.filters.hideCompleted && todo.completed) {\n        return\n      }\n\n      if (this.filters.searchText !== '') {\n        const filteredTodos = this.todos.filter((todo) => {\n          const searchTextMatch = todo.text.toLowerCase().includes(this.filters.searchText.toLowerCase())\n          const hideCompletedMatch = !this.filters.hideCompleted || !todo.completed\n\n          this._dump()\n\n          return searchTextMatch && hideCompletedMatch\n        })\n\n        filteredTodos.forEach((todo) => {\n          this._createItem(todo)\n        })\n      } else {\n        this._createItem(todo)\n      }\n    })\n  }\n\n  _createItem (todo) {\n      const div = document.createElement('div')\n      div.classList.add('todo-item')\n\n      const checkbox = document.createElement('input')\n      checkbox.setAttribute('type', 'checkbox')\n      checkbox.checked = todo.completed\n      checkbox.addEventListener('change', () => {\n        this._toggle(todo.id)\n        this._set()\n      })\n\n      const removeButton = document.createElement('button')\n      removeButton.classList.add('remove-btn')\n      removeButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\"><path d=\"M9 1C4.58 1 1 4.58 1 9s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm4 10.87L11.87 13 9 10.13 6.13 13 5 11.87 7.87 9 5 6.13 6.13 5 9 7.87 11.87 5 13 6.13 10.13 9 13 11.87z\"/></svg>`\n\n      removeButton.addEventListener('click', () => {\n        this._remove(todo.id)\n        this._set()\n        this._render()\n      })\n\n      const span = document.createElement('span')\n      span.textContent = todo.text\n\n      div.append(checkbox)\n      div.append(span)\n      div.append(removeButton)\n\n      this.list.appendChild(div)\n  }\n\n  _dump () {\n    this.list.querySelectorAll('.todo-item').forEach(element => element.remove())\n  }\n}\n\ncustomElements.define(tagName, UiTodos)\n","import './components/ui-todos.js'\n\nconst btn = document.querySelector('.to-top')\n\nfunction showButton () {\n  return window.scrollY > 100 ? btn.style.opacity = '1' : btn.style.opacity = '0'\n}\n\nwindow.addEventListener('scroll', showButton)\nbtn.addEventListener('click', () => { window.scrollTo({ top: 0, behavior: 'smooth' }) })\n"]}